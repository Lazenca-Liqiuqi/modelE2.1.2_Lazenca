# Description of Tracer Code Preprocessor Options / 示踪物代码预处理器选项说明

Preprocessor options are turned on in the rundeck by adding:
预处理器选项通过在rundeck中添加以下内容来启用：
`#define {optionName}` in the section delineated by the lines "`Preprocessor Options`" and "`End Preprocessor Options`". The following describes the options available pertaining to tracer code:
`#define {optionName}` 在由"`Preprocessor Options`"和"`End Preprocessor Options`"行界定的部分中。下述描述了与示踪物代码相关的可用选项：

 - `TRACERS_ON` = general switch to turn on tracer code
 - `TRACERS_ON` = 开启示踪物代码的通用开关
 - `TRACERS_WATER` = allow tracers to interact with water (for example, wet deposition, cloud interaction, or tracers which are themselves water).
 - `TRACERS_WATER` = 允许示踪物与水相互作用（例如，湿沉降、云相互作用，或本身就是水的示踪物）。
 - `TRACERS_DUST` = include dust tracers
 - `TRACERS_DUST` = 包含尘土示踪物
 - `TRACERS_DUST_Silt4` = include 4th silt size class of dust
 - `TRACERS_DUST_Silt4` = 包含尘土的第4级粉砂粒径类别
 - `TRACERS_DRYDEP` = tracers may undergo dry deposition (the default scheme)
 - `TRACERS_DRYDEP` = 示踪物可能经历干沉降（默认方案）
 - `TRDIAG_WETDEPO` = provide more than the default wet deposition diagnostics
 - `TRDIAG_WETDEPO` = 提供比默认更多的湿沉降诊断
 - `NO_HDIURN` = exclude hdiurn diagnostics
 - `NO_HDIURN` = 排除hdiurn诊断
 - `TRACERS_SPECIAL_Shindell` = turn on a set of mostly trace-gas chemistry tracers, based on the work of Drew Shindell.
 - `TRACERS_SPECIAL_Shindell` = 开启一组主要基于Drew Shindell工作的痕量气体化学示踪物。
 - `SHINDELL_STRAT_CHEM` = when added to `TRACERS_SPECIAL_Shindell`, chemistry is throughout the troposphere + stratosphere (highly recommended when `TRACERS_SPECIAL_Shindell` is on)
 - `SHINDELL_STRAT_CHEM` = 当添加到`TRACERS_SPECIAL_Shindell`时，化学过程遍布整个对流层+平流层（当`TRACERS_SPECIAL_Shindell`开启时强烈推荐）
 - `RAD_O3_GCM_HRES` = Allows use of radiation code offline ozone input at the GCM's horizontal resolution, rather than a fixed 4 deg x 5 deg resolution. To be used with object module `RAD_native_O3`. For example, if 2x2.5 horizontal resolution is employed, one would use radiation code input files of the form listed in `templates/O3_2010_144x90_input_files` rather than `templates/O3_2005_input_files`.
 - `RAD_O3_GCM_HRES` = 允许辐射代码使用GCM水平分辨率的离线臭氧输入，而不是固定的4度×5度分辨率。需要与对象模块`RAD_native_O3`一起使用。例如，如果采用2×2.5水平分辨率，应使用`templates/O3_2010_144x90_input_files`中列出的辐射代码输入文件形式，而不是`templates/O3_2005_input_files`。
 - `AUXILIARY_OX_RADF` = The ozone radiative forcing diagnostic is the difference between the radiation code called with the model's "in-use" ozone column and a call with a reference ozone column. The "in-use" ozone may be tracer ozone (chemically interactive) or an offline prescription. Occasionally, it is useful to e.g. have the "in-use" ozone be climatological but to also output a diagnostic of what the radiation code would have calculated if the tracer had been used. Or the other way around. One can use (carefully) `AUXILIARY_OX_RADF` for this kind of thing.
 - `AUXILIARY_OX_RADF` = 臭氧辐射强迫诊断是辐射代码使用模型"使用中"臭氧列调用与使用参考臭氧列调用之间的差值。"使用中"的臭氧可以是示踪物臭氧（化学相互作用）或离线规定值。偶尔，例如让"使用中"臭氧是气候学值但同时输出如果使用示踪物辐射代码会计算什么的诊断是有用的。或者反过来。可以（小心地）使用`AUXILIARY_OX_RADF`来处理这类情况。
 - `TRACERS_TERP` = include terpenes tracers in gas-phase chemistry. Requires `TRACERS_SPECIAL_Shindell`.
 - `TRACERS_TERP` = 在气相化学中包含萜烯示踪物。需要`TRACERS_SPECIAL_Shindell`。
 - `BIOGENIC_EMISSIONS` = turn on climate-sensitive isoprene emissions. Remember to remove the prescribed Isoprene source from the rundeck, if it exists.
 - `BIOGENIC_EMISSIONS` = 开启气候敏感的异戊二烯排放。如果存在，记得从rundeck中移除规定的异戊二烯源。
 - `TRACERS_AEROSOLS_Koch` = turn on a set of aerosol and aerosol-related tracers, based on the work of Dorothy Koch. Tracers enabled are sulfate, organic aerosols, black carbon and sea-salt. When `TRACERS_AEROSOLS_SOA` is not enabled, SOA are included as a yield from terpenes emissions; otherwise semi-volatile SOA are being used, as described by `TRACERS_AEROSOLS_SOA`.
 - `TRACERS_AEROSOLS_Koch` = 开启一组基于Dorothy Koch工作的气溶胶和气溶胶相关示踪物。启用的示踪物包括硫酸盐、有机气溶胶、黑碳和海盐。当`TRACERS_AEROSOLS_SOA`未启用时，SOA作为萜烯排放的产率包含在内；否则使用半挥发性SOA，如`TRACERS_AEROSOLS_SOA`所述。
 - `SULF_ONLY_AEROSOLS` = when used with `TRACERS_AEROSOLS_Koch`, it only enables sulfate aerosols
 - `SULF_ONLY_AEROSOLS` = 当与`TRACERS_AEROSOLS_Koch`一起使用时，仅启用硫酸盐气溶胶
 - `TRACERS_AEROSOLS_SOA` = include Secondary Organic Aerosols tracers/chemistry. Needs to be enabled with `TRACERS_SPECIAL_Shindell` and `TRACERS_AEROSOLS_Koch`.
 - `TRACERS_AEROSOLS_SOA` = 包含二次有机气溶胶示踪物/化学。需要与`TRACERS_SPECIAL_Shindell`和`TRACERS_AEROSOLS_Koch`一起启用。
 - `SOA_DIAGS` = enable many SOA diagnostics, useful for debugging
 - `SOA_DIAGS` = 启用许多SOA诊断，对调试有用
 - `TRACERS_NITRATE` = include nitrate and ammonium aerosol, using EQSAM
 - `TRACERS_NITRATE` = 包含硝酸盐和铵盐气溶胶，使用EQSAM
 - `TRACERS_HETCHEM` = include heterogeneous nitrate and sulfate formation on dust
 - `TRACERS_HETCHEM` = 包含尘土上的非均相硝酸盐和硫酸盐形成
 - `BC_ALB` = include tracer black carbon affects on snow albedo
 - `BC_ALB` = 包含示踪物黑碳对雪反照率的影响
 - `CLD_AER_CDNC` = include aerosol-cloud interactions affecting cloud droplet number concentration
 - `CLD_AER_CDNC` = 包含影响云滴数浓度的气溶胶-云相互作用
 - `BLK_2MOM` = enable two-moment bulk microphysics scheme for aerosols
 - `BLK_2MOM` = 启用双矩整体（bulk）微物理方案（用于气溶胶）
 - `WATER_MISC_GRND_CH4_SRC` = when CH4 (methane) tracer is in use, and its emissions sources are active (e.g. rundeck parameter `use_rad_ch4=0`), this option adds lake, ocean, and misc. ground sources. One must include the emissions file: `CH4gsfMGOLjal_blank_2x2.5_h`.
 - `WATER_MISC_GRND_CH4_SRC` = 当CH4（甲烷）示踪物在使用中，且其排放源处于活跃状态时（例如rundeck参数`use_rad_ch4=0`），此选项添加湖泊、海洋和其他地面源。必须包含排放文件：`CH4gsfMGOLjal_blank_2x2.5_h`。
 - `CALCULATE_FLAMMABILITY` = activate code to determine flammability of surface vegetation. In AR5 era code, this is based on fixed vegetation density from the `VEG_DENSE` file, surface air temperature, 30-day running average precipitation, near-surface relative humidity and the model's vegetation cover fractions.
 - `CALCULATE_FLAMMABILITY` = 激活确定地表植被可燃性的代码。在AR5时代代码中，这基于来自`VEG_DENSE`文件的固定植被密度、地表气温、30天移动平均降水量、近地表相对湿度和模型的植被覆盖分数。
 - `DYNAMIC_BIOMASS_BURNING` = when `CALCULATE_FLAMMABILITY` is in use, this turns on flammability-based biomass burning emissions. Please remember to turn off any prescribed biomass burning for affected tracers (unlist their files and remove their corresponding `*_nBBsources` rundeck parameters).  Note that this source will mix throughout the PBL and thus show up as a 3D source.
 - `DYNAMIC_BIOMASS_BURNING` = 当`CALCULATE_FLAMMABILITY`在使用中时，这会开启基于可燃性的生物质燃烧排放。请记得关闭受影响示踪物的任何规定生物质燃烧（取消列出它们的文件并移除其相应的`*_nBBsources` rundeck参数）。注意此源将在整个行星边界层（PBL）中混合，因此显示为三维（3D）源。
 - `CALCULATE_LIGHTNING` = A lightning flash rate calculation is done when `TRACERS_SPECIAL_Shindell` is turned on. This option allows the calculation to be done otherwise (for example in runs with no tracers).
 - `CALCULATE_LIGHTNING` = 当`TRACERS_SPECIAL_Shindell`开启时进行闪电闪率计算。此选项允许在其他情况下进行计算（例如在没有示踪物的运行中）。
 - `SHINDELL_STRAT_EXTRA` = turns on additional diagnostic tracers for Shindell chemistry (recommended in conjunction with `HTAP_LIKE_DIAGS` and `ACCMIP_LIKE_DIAGS` options). Specific things you will get with this option:
 - `SHINDELL_STRAT_EXTRA` = 为Shindell化学开启额外的诊断示踪物（推荐与`HTAP_LIKE_DIAGS`和`ACCMIP_LIKE_DIAGS`选项结合使用）。使用此选项将获得的具体内容：

        - Tracer `GLT` for "Generic Linear Tracer" is added to the tracers complement to assist with age-of-air/circulation calculations. Its initial concentration starts at 1 ppbv everywhere. Its lowest model level concentration is overwritten each time step to a value that increases by 1% per year. Thus the difference in concentration of the tracer compared to a reference point can give a spatial estimate of age-of-air. Due to the different ways that a simulation can be started (e.g. `ISTART` settings) one must take care to check that initial conditions indeed start at 1 ppbv (if starting a new simulation) or continue their values from parent simulation (if your age-of-air calculations will span the simulations.) This can normally be achieved by proper setting of `itime_tr0( )` parameters in the rundeck, or in more complicated setups by altering this line of code:
- 为"通用线性示踪物"的示踪物`GLT`被添加到示踪物补充中以帮助空气年龄/环流计算。其初始浓度在各处都从1 ppbv开始。其最低模型层浓度在每个时间步被重写为一个每年增加1%的值。因此示踪物与参考点相比的浓度差异可以给出空气年龄的空间估计。由于模拟可以以不同方式启动（例如`ISTART`设置），必须注意检查初始条件确实从1 ppbv开始（如果启动新模拟）或从父模拟继续其值（如果您的空气年龄计算将跨越模拟）。这通常可以通过在rundeck中正确设置`itime_tr0( )`参数来实现，或在更复杂的设置中通过修改这行代码：

```fortran
new_mr = GLTic * (1.d0 +(Itime-ItimeI-itime_tr0(n_GLT))*DTsrc*by_s_in_yr*1.d-2) !pppv
```

This code should be placed in subroutine `overwrite_GLT`.
此代码应放置在子程序`overwrite_GLT`中。
    -if `ACCMIP_LIKE_DIAGS` is also turned on, tracer `codirect` is added. This is an idealized carbon monoxide-like tracer that starts at zero concentration, has emissions from a rundeck file at the surface, and a single loss via a 50-day decay time, functionally identical to radioactive decay in the model.
    -如果`ACCMIP_LIKE_DIAGS`也开启，添加示踪物`codirect`。这是一个理想化的类似一氧化碳的示踪物，从零浓度开始，在表面有来自rundeck文件的排放，并通过50天衰变时间有单一损失，功能上与模型中的放射性衰变相同。
    -if `ACCMIP_LIKE_DIAGS` is also turned on, a stratospheric ozone diagnostics tracer is added (`stratOx`). This is non-functional in this model version but code was left in in case a fix was easily implementable. So no further details are given here. One consequence is a model stop in `RAD_DRV.f` when rundeck parameter `clim_interact_chem` is `.le. 0`. (This model stop can be safely commented-out if one is not going to use the stratospheric ozone radiative forcing diagnostic anyway.)
    -如果`ACCMIP_LIKE_DIAGS`也开启，添加一个平流层臭氧诊断示踪物（`stratOx`）。在此模型版本中这是非功能性的，但代码被保留以防修复可以轻松实现。因此这里不给出进一步细节。一个结果是当rundeck参数`clim_interact_chem`为`.le. 0`时在`RAD_DRV.f`中模型停止。（如果一个人不打算使用平流层臭氧辐射强迫诊断，此模型停止可以安全地注释掉。）
    
 - `HTAP_LIKE_DIAGS`  = adds several diagnostics for Hemispheric Transport of Air Pollution project (recommended in conjunction with `SHINDELL_STRAT_EXTRA` and `ACCMIP_LIKE_DIAGS` options). Specific things you will get with this option:
 - `HTAP_LIKE_DIAGS`  = 为半球空气污染输送项目添加几个诊断（推荐与`SHINDELL_STRAT_EXTRA`和`ACCMIP_LIKE_DIAGS`选项结合使用）。使用此选项将获得的具体内容：

    - adds `GridH` diagnostic estimate of grid box geometric thickness
  - 添加网格盒几何厚度的`GridH`诊断估计
  - the OH concentration diagnostic `OH_con` in molecules/cm3 units is replaced by a diagnostic `OH_vmr` in volume mixing ratio units.
  - 以molecules/cm3为单位的OH浓度诊断`OH_con`被以体积混合比单位的诊断`OH_vmr`替代。
  - diagnostics are added for CO production and destruction rates and CH4 destruction rate. Ox production and destruction rates are also added, but are not very useful as they include fast (photochemical) interconversions within odd oxygen that do not yield a net ozone change. Hence the difference (prod-loss) is consistent with conventional definitions, but the separate terms are very large.
  - 添加CO产生和破坏率以及CH4破坏率的诊断。也添加Ox产生和破坏率，但不是很有用，因为它们包括奇氧内部不产生净臭氧变化的快速（光化学）相互转化。因此差值（产生-损失）与传统定义一致，但单独项非常大。
  - The `Air` tracer is added.
  - 添加`Air`示踪物。
  
 - `ACCMIP_LIKE_DIAGS` = adds many diagnostics as defined by the Atmospheric Chemistry and Climate Model Intercomparison project (recommended when using `TRACERS_SPECIAL_Shindell`. Needs `SHINDELL_STRAT_EXTRA` and `HTAP_LIKE_DIAGS`). Specific things you will get from this option:
 - `ACCMIP_LIKE_DIAGS` = 添加由大气化学和气候模式比较项目定义的许多诊断（使用`TRACERS_SPECIAL_Shindell`时推荐。需要`SHINDELL_STRAT_EXTRA`和`HTAP_LIKE_DIAGS`）。从此选项将获得的具体内容：
    -shortwave and longwave top of the atmosphere (TOA) diagnostics are added for radiative forcing of the greenhouse gases CH4, N2O, CFC11 and CFC12
  -为温室气体CH4、N2O、CFC11和CFC12的辐射强迫添加短波和长波大气层顶（TOA）诊断
  -a diagnostic is added estimating the part of ozone dry deposition that is via stomata
  -添加估计通过气孔的臭氧干沉降部分的诊断
  - adds working `codirect` and non-functional `stratOx` tracers. See `SHINDELL_STRAT_EXTRA` above.
  -添加工作的`codirect`和非功能性的`stratOx`示踪物。参见上面的`SHINDELL_STRAT_EXTRA`。
  - adds 3 dimensional diagnostics for ozone production from HO2+NO, CH3O2+NO, RO2+NO and loss from OH, HO2, and Alkenes (individually), O1D production from ozone, and OH production from O1D+H2O. These need to be treated with care -- see note about ozone production/loss terms under `HTAP_LIKE_DIAGS` above.
  -添加来自HO2+NO、CH3O2+NO、RO2+NO的臭氧产生和来自OH、HO2和烯烃（单独）的臭氧损失的3维诊断，来自臭氧的O1D产生，以及来自O1D+H2O的OH产生。这些需要小心处理——参见上面`HTAP_LIKE_DIAGS`下关于臭氧产生/损失项的说明。
  - adds 3 dimensional diagnostics for NOx production from lightning (2 dimensional diagnostic is always available), and NO and NO2 mixing ratios (as these are not tracers like NOx).
  -添加来自闪电的NOx产生的3维诊断（2维诊断总是可用），以及NO和NO2混合比（因为这些不像NOx那样是示踪物）。
  - when `TRACERS_AEROSOLS_Koch` is defined, adds 3 dimensional diagnostics of SO4 aqueous and gas phase chemical sources
  -当定义`TRACERS_AEROSOLS_Koch`时，添加SO4液相和气相化学源的3维诊断
  - please note that you must have rundeck parameter `rad_forc_lev=0` to choose TOA radiative forcing diagnostics for aerosols. There is a online check for this.
  -请注意您必须有rundeck参数`rad_forc_lev=0`来选择气溶胶的TOA辐射强迫诊断。对此有在线检查。
  
 - `TES_LIKE_DIAGS` = for some sub-daily diagnostics (SUBDD) that output on fixed pressure levels, turning this on changes (and increases the number of) those target levels for comparison with satellite measurements. Namely: T, Q, ozone, NOx, NO2, and CO. Instead of being placed in files with the pressures in the filenames, these are written to multi-level files with "TES" in the filename.
 - `TES_LIKE_DIAGS` = 对于在固定压力层输出的一些亚日诊断（SUBDD），开启此选项会改变（并增加）用于与卫星测量比较的目标层数量。即：T、Q、臭氧、NOx、NO2和CO。不是放在文件名中包含压力的文件中，而是写入文件名中包含"TES"的多层文件中。
 - `INTERACTIVE_WETLANDS_CH4` = turns on climate-interactive methane wetland source (for use with `TRACERS_SPECIAL_Shindell`)
 - `INTERACTIVE_WETLANDS_CH4` = 开启气候交互式甲烷湿地源（与`TRACERS_SPECIAL_Shindell`一起使用）
 - `GFED_3D_BIOMASS` = turns on special code for IIASA AR4 GFED biomass burning. This should still work if you list the correct emissions files, but it might be more logical to use updated GFED emissions files with the normal tracer emissions scheme.
 - `GFED_3D_BIOMASS` = 为IIASA AR4 GFED生物质燃烧开启特殊代码。如果您列出正确的排放文件，这应该仍然工作，但使用更新的GFED排放文件与正常示踪物排放方案可能更合理。

```text

Other ones listed in 2010 in ../cppConditionals.txt that seem tracer-related:
NO_WASHOUT_IN_CLOUDS
PS_BVOC
SKIP_TRACERS_RAD
SKIP_TRACER_DIAGS
TRACERS_AGE_OCEAN
TRACERS_AMP
TRACERS_AMP_M1
TRACERS_AMP_M2
TRACERS_AMP_M3
TRACERS_AMP_M4
TRACERS_AMP_M5
TRACERS_AMP_M6
TRACERS_AMP_M7
TRACERS_AMP_M8
TRACERS_ATM_ONLY
TRACERS_Alkalinity
TRACERS_COSMO
TRACERS_GASEXCH_land
TRACERS_GASEXCH_land_CO2
TRACERS_GASEXCH_ocean
TRACERS_GASEXCH_ocean_CFC
TRACERS_HYCOM_Ventilation
TRACERS_MINERALS
TRACERS_OCEAN
TRACERS_OCEAN_INDEP
TRACERS_OCEAN_WATER_MASSES
TRACERS_OM_SP = Obsolete; I doubt it even works, eliminated from the development branch
TRACERS_OceanBiology
TRACERS_QUARZHEM
TRACERS_RADON
TRACERS_SPECIAL_Lerner
TRACERS_SPECIAL_O18
TRACERS_WATER_OLD
TRAC_ADV_CPU
```
