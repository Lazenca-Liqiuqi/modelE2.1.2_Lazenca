# Main time stepping loop / 主时间步进循环

The main loop is contained wholly within the MAIN routine. The order of calling to the physics routines is quite tightly controlled and cannot be changed arbitrarily. Some calls are dummy calls depending on how the model is coupled and which 'plug-and-play' options are in effect. Currently the calling order is: DYNAM (atmospheric dynamics), MELTSI (sea ice lateral melt), CONDSE (moist convection and large scale condensation), RADIA (radiative transfer), PRECIP_XYZ application of precipitation to submodules, SURFCE (calculation of surface heat, water and momentum fluxes), DYNSI (calculation of advective tendencies in sea ice), UNDERICE (calculation of ice-ocean heat, mass and salt fluxes), GROUND_XYZ application of surface fluxes to land surface submodules (earth, land ice, lakes), RIVERF (calculation of river routing), OCEANS (application of surface fluxes and rivers to ocean code), FORM_SI (update of ice module to account for any ice formation in lakes or oceans), ADVSI (advection of sea ice), DISSIP (add heat from atmospheric dissipation to atmosphere), FILTER (pressure filter). At the end of the day calls are made to various daily_XYZ routines that calculate changes (such as in climatologies) that only need be done daily.
主循环完全包含在MAIN例程中。物理例程的调用顺序受到严格控制，不能随意更改。某些调用是虚拟调用，具体取决于模型的耦合方式和生效的"即插即用"选项。目前的调用顺序是：DYNAM（大气动力学）、MELTSI（海冰侧向融化）、CONDSE（湿润对流和大尺度凝结）、RADIA（辐射传输）、PRECIP_XYZ将降水应用于子模块、SURFCE（计算表面热、水分和动量通量）、DYNSI（计算海冰中的平流趋势）、UNDERICE（计算冰-海热、质量和盐通量）、GROUND_XYZ将表面通量应用于陆面子模块（地球、陆冰、湖泊）、RIVERF（计算河流汇流）、OCEANS（将表面通量和河流应用于海洋代码）、FORM_SI（更新冰模块以考虑湖泊或海洋中的任何冰形成）、ADVSI（海冰平流）、DISSIP（将来自大气耗散的热量添加到大气）、FILTER（压力滤波器）。在一天结束时，调用各种daily_XYZ例程，这些例程计算仅需每天进行的更改（例如气候态值中的更改）。
